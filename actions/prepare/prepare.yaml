runtime: plugin
action:
  title: Prepare
  description: Prepare composed model for Ansible runtime
  options:
    - name: clean
      title: Clean
      description: Clean prepare directory before starting
      type: boolean
      default: true
    - name: compose-dir
      title: Compose Directory
      description: Source directory with composed packages
      type: string
      default: ".plasma/model/compose/merged"
    - name: prepare-dir
      title: Prepare Directory
      description: Output directory for prepared model
      type: string
      default: ".plasma/model/prepare"
  result:
    type: object
    properties:
      layers:
        type: array
        items:
          type: string
      components_moved:
        type: integer
      galaxy_files:
        type: integer
      symlinks:
        type: integer
      group_vars_renamed:
        type: integer
